<div class="container profile-page">
  <h1 class="main-title"><%= @user.name %>'s Profile</h1>

  <!-- Hidden radios for tab switching -->
  <input type="radio" name="profile_tab" id="tab-reviews" class="tab-radio" checked>
  <input type="radio" name="profile_tab" id="tab-active" class="tab-radio">
  <input type="radio" name="profile_tab" id="tab-sold" class="tab-radio">
  <input type="radio" name="profile_tab" id="tab-bought" class="tab-radio">

  <!-- Tab Navigation -->
  <div class="industrial-nav">
    <label for="tab-reviews" class="nav-item">Reviews (<%= @reviews.count %>)</label>
    <label for="tab-active" class="nav-item">Active Listings (<%= @active_listings.count %>)</label>
  <%if @user==current_user%>
    <label for="tab-sold" class="nav-item">Sold Items (<%= @sold_items.count %>)</label>
    <label for="tab-bought" class="nav-item">Bought Items (<%= @bought_items.count %>)</label>
    <%end%>
  </div>

  <!-- Reviews Section -->
  <div id="reviews-section" class="tab-content reviews-section">
  <% if @reviews.any? %>
    <div class="reviews-grid">
      <%= render partial: "reviews/review", collection: @reviews, as: :review %>
    </div>
  <% else %>
    <p class="empty-text">No reviews yet for this user.</p>
  <% end %>
</div>
<!-- Active Listings Section -->
<div id="active-section" class="tab-content items-section">
  <% if @active_listings&.any? %>
    <div class="items-grid">
      <%= render partial: 'items/item', collection: @active_listings, as: :item %>
    </div>
  <% else %>
    <p class="empty-text">No active listings available.</p>
  <% end %>
</div>

<%if @user==current_user%>
  <!-- Sold Items Section -->
  <div id="sold-section" class="tab-content items-section">
    <% if @sold_items.any? %>
      <div class="items-grid">
        <%= render partial: 'items/item', collection: @sold_items, as: :item %>
      </div>
    <% else %>
      <p class="empty-text">No sold items.</p>
    <% end %>
  </div>

  <!-- Bought Items Section -->
  <div id="bought-section" class="tab-content items-section">
    <% if @bought_items.any? %>
      <div class="items-grid">
        <%= render partial: 'items/item', collection: @bought_items, as: :item %>
      </div>
    <% else %>
      <p class="empty-text">No bought items.</p>
    <% end %>
  </div>
  <%end%>
</div>
